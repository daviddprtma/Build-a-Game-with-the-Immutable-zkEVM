import fs from 'fs/promises';

import {
  base as onLightBase,
  fontFaceStylesImport,
  onDarkBase,
} from '../tokens/base';
import {
  recursivelyOutputTokens,
  wrapCssFileWithBodySelector,
} from '../utils/fileSystemUtils';

(async () => {
  await fs.appendFile('css/text.global.css', fontFaceStylesImport);

  await recursivelyOutputTokens(
    onLightBase,
    'base',
    'css/base-onLight.global.css',
  );

  await recursivelyOutputTokens(
    onDarkBase,
    'base',
    'css/base-onDark.global.css',
  );

  await wrapCssFileWithBodySelector('css/base-onLight.global.css');
  await wrapCssFileWithBodySelector('css/base-onDark.global.css');
})();
