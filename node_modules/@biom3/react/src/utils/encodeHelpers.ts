import { Buffer } from 'buffer';

export function base64UrlEncode(url: string) {
  return Buffer.from(url)
    .toString('base64')
    .replace(/\+/g, '-') // Convert '+' to '-'
    .replace(/\//g, '_'); // Convert '/' to '_'
}

export function base64UrlDecode(base64Url: string) {
  const cleaned = base64Url
    .replace(/-/g, '+') // Convert '-' to '+'
    .replace(/_/g, '/'); // Convert '_' to '/'

  return Buffer.from(cleaned, 'base64').toString();
}
