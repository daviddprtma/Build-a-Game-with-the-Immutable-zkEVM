import merge from 'ts-deepmerge';

import { ModalComponentProps } from '../../types/overlays';
import { Modal } from '../Modal';
import { ModalTarget } from '../Modal/ModalTarget';
import { LoadingOverlayContent } from './LoadingOverlayContent';

export type LoadingOverlayProps = ModalComponentProps & {};

export function LoadingOverlay({
  bgOverlaySx = {},
  testId = 'LoadingOverlay',
  ...props
}: LoadingOverlayProps) {
  return (
    <Modal
      {...props}
      testId={testId}
      ContentSubcomponent={LoadingOverlayContent}
      bgOverlaySx={merge(
        { bg: 'base.color.translucent.standard.600' },
        bgOverlaySx,
      )}
    />
  );
}

LoadingOverlay.displayName = 'LoadingOverlay';
LoadingOverlay.Target = ModalTarget;
LoadingOverlay.Content = LoadingOverlayContent;
