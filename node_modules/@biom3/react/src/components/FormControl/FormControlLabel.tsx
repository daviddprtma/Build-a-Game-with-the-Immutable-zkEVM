import merge from 'ts-deepmerge';

import { InputTextAlign } from '../../types/input';
import { DomPropsWithDomRef } from '../../types/shared';
import { BaseBodyProps } from '../../types/text';
import { Body } from '../Text';
import { DEFAULT_TEXT_INPUT_ALIGN } from '../TextInput/shared';

export type FormControlLabelProps = Omit<
  BaseBodyProps & DomPropsWithDomRef<'label'>,
  'rc'
> & { textAlign?: InputTextAlign };

export function FormControlLabel({
  size = 'small',
  children,
  testId,
  sx = {},
  textAlign = DEFAULT_TEXT_INPUT_ALIGN,
  ...props
}: FormControlLabelProps) {
  return (
    <Body
      {...props}
      testId={testId}
      rc={<label />}
      size={size}
      sx={merge(
        { color: 'base.color.text.primary', textAlign, cursor: 'pointer' },
        sx,
      )}
    >
      {children}
    </Body>
  );
}

FormControlLabel.displayName = 'FormControlLabel';
