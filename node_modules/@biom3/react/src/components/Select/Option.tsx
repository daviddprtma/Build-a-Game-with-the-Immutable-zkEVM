import { useCallback } from 'react';

import { MenuItem } from '../MenuItem';
import { MenuItemCaption } from '../MenuItem/MenuItemCaption';
import { MenuItemFramedImage } from '../MenuItem/MenuItemFramedImage';
import { MenuItemIcon } from '../MenuItem/MenuItemIcon';
import { MenuItemLabel } from '../MenuItem/MenuItemLabel';
import { OptionProps } from './types';

export function Option({
  size = 'xSmall',
  onOptionClick,
  children,
  optionKey,
  selected,
  sx,
  testId,
  ...props
}: OptionProps) {
  const handleOptionClick = useCallback(
    () => onOptionClick?.(children, optionKey),
    [children, onOptionClick, optionKey],
  );
  return (
    <MenuItem
      {...props}
      rc={<button />}
      size={size}
      onClick={handleOptionClick}
      selected={selected}
      sx={sx}
      testId={testId}
    >
      {children}
    </MenuItem>
  );
}

Option.displayName = 'Option';
Option.Label = MenuItemLabel;
Option.Caption = MenuItemCaption;
Option.Icon = MenuItemIcon;
Option.FramedImage = MenuItemFramedImage;
// @TODO: add support for the below subcomponents:
// Option.FramedIcon = MenuItemFramedIcon;
// Option.IntentIcon = MenuItemIntentIcon;
// Option.Badge = MenuItemBadge;
