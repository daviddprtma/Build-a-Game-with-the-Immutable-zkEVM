import { DistributiveOmit } from '@emotion/react';

import { useGetSubcomponentChild } from '../../hooks';
import { Select, SelectProps } from '../Select';

export type TablePageSizeProps = DistributiveOmit<SelectProps, 'size'> & {};

export function TablePageSize({
  children,
  defaultLabel = 'Rows per page',
  ...props
}: TablePageSizeProps) {
  const defaultIcon = useGetSubcomponentChild(children, Select.DefaultIcon);
  return (
    <Select {...props} size="medium" defaultLabel={defaultLabel}>
      {children}
      {defaultIcon ?? <Select.DefaultIcon icon="ViewList" />}
    </Select>
  );
}

TablePageSize.displayName = 'Table.PageSize';
TablePageSize.DefaultIcon = Select.DefaultIcon;
