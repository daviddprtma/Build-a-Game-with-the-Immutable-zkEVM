import { DistributiveOmit } from '@emotion/react';
import merge from 'ts-deepmerge';

import { OverflowPopoverMenuProps } from '../OverflowMenus';
import { OverflowPopoverMenu } from '../OverflowMenus/OverflowPopoverMenu';

export type MenuItemOverflowPopoverMenuProps = DistributiveOmit<
  OverflowPopoverMenuProps,
  'icon' | 'iconVariant'
>;

export function MenuItemOverflowPopoverMenu({
  children,
  sx = {},
  ...props
}: MenuItemOverflowPopoverMenuProps) {
  return (
    <OverflowPopoverMenu
      {...props}
      size="small"
      sx={merge({ flexShrink: 0 }, sx)}
    >
      {children}
    </OverflowPopoverMenu>
  );
}

MenuItemOverflowPopoverMenu.displayName = 'MenuItem.OverflowPopoverMenu';
