import { DistributiveOmit } from '@emotion/react';
import { ReactElement } from 'react';
import merge from 'ts-deepmerge';

import { ButtConProps } from '../../types/clickable';
import { MakeResponsive } from '../../types/shared';
import { ButtCon } from '../Clickable';
import { DEFAULT_BUTTON_SIZE } from '../Clickable/Buttons/styles';
import { AppHeaderBarSize } from './shared';

export type AppHeaderBarLeftButtConProps<
  RC extends ReactElement | undefined = undefined,
> = DistributiveOmit<ButtConProps<RC>, 'size'> & {
  size?: MakeResponsive<AppHeaderBarSize>;
};

export function AppHeaderBarLeftButtCon<
  RC extends ReactElement | undefined = undefined,
>({
  size,
  variant = 'tertiary',
  sx = {},
  ...props
}: AppHeaderBarLeftButtConProps<RC>) {
  return (
    <ButtCon
      {...props}
      variant={variant}
      size={DEFAULT_BUTTON_SIZE}
      sx={merge({ position: 'relative' }, sx)}
    />
  );
}

AppHeaderBarLeftButtCon.displayName = 'AppHeaderBar.LeftButtCon';
