import { onLightBase } from '@biom3/design-tokens';

import { cyMountWithProviders, cySmartGet } from '../../utils/testHelpers';
import { GridBox } from './GridBox';

describe('<GridBox />', () => {
  it('should have correct displayName', () => {
    expect(GridBox.displayName).to.eq('GridBox');
  });
  it('should render a box with some grid box styles by default', () => {
    cyMountWithProviders(<GridBox testId="moo" />);
    cySmartGet('moo').should('have.css', 'display', 'grid');
    cySmartGet('moo').should('have.css', 'gap', onLightBase.spacing.x4);
  });

  it('should correctly fwd on the domRef', () => {
    const domRefStub = cy.stub().as('domRefStub');
    cySmartGet('@domRefStub').should('not.have.been.called');
    cyMountWithProviders(<GridBox domRef={domRefStub} />);
    cySmartGet('@domRefStub').should('have.been.calledWithMatch', {
      nodeName: 'DIV',
    });
  });
  it('should accept custom sx input', () => {
    cyMountWithProviders(
      <GridBox
        testId="moo"
        sx={{ bg: 'gold', height: '100px', width: '100px' }}
      />,
    );
    cySmartGet('moo').should('have.backgroundColor', 'gold');
  });
});
